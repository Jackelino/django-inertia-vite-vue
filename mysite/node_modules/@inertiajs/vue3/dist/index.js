var X=Object.create;var k=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty;var te=(e,r)=>{for(var n in r)k(e,n,{get:r[n],enumerable:!0})},L=(e,r,n,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of Z(r))!re.call(e,t)&&t!==n&&k(e,t,{get:()=>r[t],enumerable:!(l=Y(r,t))||l.enumerable});return e};var A=(e,r,n)=>(n=e!=null?X(ee(e)):{},L(r||!e||!e.__esModule?k(n,"default",{value:e,enumerable:!0}):n,e)),oe=e=>L(k({},"__esModule",{value:!0}),e);var le={};te(le,{Head:()=>W,Link:()=>K,createInertiaApp:()=>O,router:()=>z.router,useForm:()=>C,usePage:()=>U,useRemember:()=>R});module.exports=oe(le);var z=require("@inertiajs/core");var v=require("@inertiajs/core"),c=require("vue");var E=require("@inertiajs/core"),V=A(require("lodash.clonedeep"),1),ne={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,r=E.router.restore(e),n=this.$options.remember.data.filter(t=>!(this[t]!==null&&typeof this[t]=="object"&&this[t].__rememberable===!1)),l=t=>this[t]!==null&&typeof this[t]=="object"&&typeof this[t].__remember=="function"&&typeof this[t].__restore=="function";n.forEach(t=>{this[t]!==void 0&&r!==void 0&&r[t]!==void 0&&(l(t)?this[t].__restore(r[t]):this[t]=r[t]),this.$watch(t,()=>{E.router.remember(n.reduce((p,a)=>({...p,[a]:(0,V.default)(l(a)?this[a].__remember():this[a])}),{}),e)},{immediate:!0,deep:!0})})}},H=ne;var F=require("@inertiajs/core"),P=A(require("lodash.clonedeep"),1),q=A(require("lodash.isequal"),1),_=require("vue");function C(e,r){let n=typeof e=="string"?e:null,l=typeof e=="object"?e:r,t=n?F.router.restore(n):null,p=(0,P.default)(l),a=null,f=null,h=o=>o,g=(0,_.reactive)({...t?t.data:l,isDirty:!1,errors:t?t.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(l).reduce((o,i)=>(o[i]=this[i],o),{})},transform(o){return h=o,this},defaults(o,i){return typeof o>"u"?p=this.data():p=Object.assign({},(0,P.default)(p),typeof o=="string"?{[o]:i}:o),this},reset(...o){let i=(0,P.default)(p);return o.length===0?Object.assign(this,i):Object.assign(this,Object.keys(i).filter(s=>o.includes(s)).reduce((s,d)=>(s[d]=i[d],s),{})),this},setError(o,i){return Object.assign(this.errors,typeof o=="string"?{[o]:i}:o),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...o){return this.errors=Object.keys(this.errors).reduce((i,s)=>({...i,...o.length>0&&!o.includes(s)?{[s]:this.errors[s]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(o,i,s={}){let d=h(this.data()),y={...s,onCancelToken:u=>{if(a=u,s.onCancelToken)return s.onCancelToken(u)},onBefore:u=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(f),s.onBefore)return s.onBefore(u)},onStart:u=>{if(this.processing=!0,s.onStart)return s.onStart(u)},onProgress:u=>{if(this.progress=u,s.onProgress)return s.onProgress(u)},onSuccess:async u=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,f=setTimeout(()=>this.recentlySuccessful=!1,2e3);let G=s.onSuccess?await s.onSuccess(u):null;return p=(0,P.default)(this.data()),this.isDirty=!1,G},onError:u=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(u),s.onError)return s.onError(u)},onCancel:()=>{if(this.processing=!1,this.progress=null,s.onCancel)return s.onCancel()},onFinish:u=>{if(this.processing=!1,this.progress=null,a=null,s.onFinish)return s.onFinish(u)}};o==="delete"?F.router.delete(i,{...y,data:d}):F.router[o](i,d,y)},get(o,i){this.submit("get",o,i)},post(o,i){this.submit("post",o,i)},put(o,i){this.submit("put",o,i)},patch(o,i){this.submit("patch",o,i)},delete(o,i){this.submit("delete",o,i)},cancel(){a&&a.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(o){Object.assign(this,o.data),this.setError(o.errors)}});return(0,_.watch)(g,o=>{g.isDirty=!(0,q.default)(g.data(),p),n&&F.router.remember((0,P.default)(o.__remember()),n)},{immediate:!0,deep:!0}),g}var m=(0,c.ref)(null),T=(0,c.ref)({}),I=(0,c.shallowRef)(null),x=(0,c.ref)(null),j=null,se=(0,c.defineComponent)({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:r,resolveComponent:n,titleCallback:l,onHeadUpdate:t}){m.value=r?(0,c.markRaw)(r):null,T.value=e,x.value=null;let p=typeof window>"u";return j=(0,v.createHeadManager)(p,l,t),p||(v.router.init({initialPage:e,resolveComponent:n,swapComponent:async a=>{m.value=(0,c.markRaw)(a.component),T.value=a.page,x.value=a.preserveState?x.value:Date.now()}}),v.router.on("navigate",()=>j.forceUpdate())),()=>{if(m.value){m.value.inheritAttrs=!!m.value.inheritAttrs;let a=(0,c.h)(m.value,{...T.value.props,key:x.value});return I.value&&(m.value.layout=I.value,I.value=null),m.value.layout?typeof m.value.layout=="function"?m.value.layout(c.h,a):(Array.isArray(m.value.layout)?m.value.layout:[m.value.layout]).concat(a).reverse().reduce((f,h)=>(h.inheritAttrs=!!h.inheritAttrs,(0,c.h)(h,{...T.value.props},()=>f))):a}}}}),M=se,B={install(e){v.router.form=C,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>v.router}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>T.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>j}),e.mixin(H)}};function U(){return T.value}var N=require("@inertiajs/core"),w=require("vue");async function O({id:e="app",resolve:r,setup:n,title:l,progress:t={},page:p,render:a}){let f=typeof window>"u",h=f?null:document.getElementById(e),g=p||JSON.parse(h.dataset.page),o=d=>Promise.resolve(r(d)).then(y=>y.default||y),i=[],s=await o(g.component).then(d=>n({el:h,App:M,props:{initialPage:g,initialComponent:d,resolveComponent:o,titleCallback:l,onHeadUpdate:f?y=>i=y:null},plugin:B}));if(!f&&t&&(0,N.setupProgress)(t),f){let d=await a((0,w.createSSRApp)({render:()=>(0,w.h)("div",{id:e,"data-page":JSON.stringify(g),innerHTML:s?a(s):""})}));return{head:i,body:d}}}var J=require("vue"),ie=(0,J.defineComponent)({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1},renderTagStart(e){e.props=e.props||{},e.props.inertia=e.props["head-key"]!==void 0?e.props["head-key"]:"";let r=Object.keys(e.props).reduce((n,l)=>{let t=e.props[l];return["key","head-key"].includes(l)?n:t===""?n+` ${l}`:n+` ${l}="${t}"`},"");return`<${e.type}${r}>`},renderTagChildren(e){return typeof e.children=="string"?e.children:e.children.reduce((r,n)=>r+this.renderTag(n),"")},renderTag(e){if(e.type.toString()==="Symbol(Text)")return e.children;if(e.type.toString()==="Symbol()")return"";if(e.type.toString()==="Symbol(Comment)")return"";let r=this.renderTagStart(e);return e.children&&(r+=this.renderTagChildren(e)),this.isUnaryTag(e)||(r+=`</${e.type}>`),r},addTitleElement(e){return this.title&&!e.find(r=>r.startsWith("<title"))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){return this.addTitleElement(e.flatMap(r=>r.type.toString()==="Symbol(Fragment)"?r.children:r).map(r=>this.renderTag(r)).filter(r=>r))}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),W=ie;var S=require("@inertiajs/core"),$=require("vue"),ae=(0,$.defineComponent)({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup(e,{slots:r,attrs:n}){return()=>{let l=e.as.toLowerCase(),t=e.method.toLowerCase(),[p,a]=(0,S.mergeDataIntoQueryString)(t,e.href||"",e.data,e.queryStringArrayFormat);return l==="a"&&t!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${p}" method="${t}" as="button">...</Link>`),(0,$.h)(e.as,{...n,...l==="a"?{href:p}:{},onClick:f=>{(0,S.shouldIntercept)(f)&&(f.preventDefault(),S.router.visit(p,{data:a,method:t,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??t!=="get",only:e.only,headers:e.headers,onCancelToken:n.onCancelToken||(()=>({})),onBefore:n.onBefore||(()=>({})),onStart:n.onStart||(()=>({})),onProgress:n.onProgress||(()=>({})),onFinish:n.onFinish||(()=>({})),onCancel:n.onCancel||(()=>({})),onSuccess:n.onSuccess||(()=>({})),onError:n.onError||(()=>({}))}))}},r)}}}),K=ae;var D=require("@inertiajs/core"),Q=A(require("lodash.clonedeep"),1),b=require("vue");function R(e,r){if(typeof e=="object"&&e!==null&&e.__rememberable===!1)return e;let n=D.router.restore(r),l=(0,b.isReactive)(e)?b.reactive:b.ref,t=typeof e.__remember=="function"&&typeof e.__restore=="function",p=n===void 0?e:l(t?e.__restore(n):n);return(0,b.watch)(p,a=>{D.router.remember((0,Q.default)(t?e.__remember():a),r)},{immediate:!0,deep:!0}),p}
//# sourceMappingURL=index.js.map
