"use strict";var se=Object.create;var L=Object.defineProperty;var ae=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var pe=(t,e)=>{for(var r in e)L(t,r,{get:e[r],enumerable:!0})},K=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of le(e))!de.call(t,n)&&n!==r&&L(t,n,{get:()=>e[n],enumerable:!(i=ae(e,n))||i.enumerable});return t};var C=(t,e,r)=>(r=t!=null?se(ce(t)):{},K(e||!t||!t.__esModule?L(r,"default",{value:t,enumerable:!0}):r,t)),ue=t=>K(L({},"__esModule",{value:!0}),t);var xe={};pe(xe,{Method:()=>I,createHeadManager:()=>H,hrefToUrl:()=>f,mergeDataIntoQueryString:()=>k,router:()=>Ee,setupProgress:()=>j,shouldIntercept:()=>q,urlWithoutHash:()=>b});module.exports=ue(xe);var M=C(require("axios"),1);function T(t,e){let r;return function(...i){clearTimeout(r),r=setTimeout(()=>t.apply(this,i),e)}}function m(t,e){return document.dispatchEvent(new CustomEvent(`inertia:${t}`,e))}var X=t=>m("before",{cancelable:!0,detail:{visit:t}}),J=t=>m("error",{detail:{errors:t}}),z=t=>m("exception",{cancelable:!0,detail:{exception:t}}),D=t=>m("finish",{detail:{visit:t}}),_=t=>m("invalid",{cancelable:!0,detail:{response:t}}),w=t=>m("navigate",{detail:{page:t}}),Q=t=>m("progress",{detail:{progress:t}}),Y=t=>m("start",{detail:{visit:t}}),Z=t=>m("success",{detail:{page:t}});function N(t){return t instanceof File||t instanceof Blob||t instanceof FileList&&t.length>0||t instanceof FormData&&Array.from(t.values()).some(e=>N(e))||typeof t=="object"&&t!==null&&Object.values(t).some(e=>N(e))}function U(t,e=new FormData,r=null){t=t||{};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&te(e,ee(r,i),t[i]);return e}function ee(t,e){return t?t+"["+e+"]":e}function te(t,e,r){if(Array.isArray(r))return Array.from(r.keys()).forEach(i=>te(t,ee(e,i.toString()),r[i]));if(r instanceof Date)return t.append(e,r.toISOString());if(r instanceof File)return t.append(e,r,r.name);if(r instanceof Blob)return t.append(e,r);if(typeof r=="boolean")return t.append(e,r?"1":"0");if(typeof r=="string")return t.append(e,r);if(typeof r=="number")return t.append(e,`${r}`);if(r==null)return t.append(e,"");U(r,t,e)}var re={modal:null,listener:null,show(t){typeof t=="object"&&(t=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(t)}`);let e=document.createElement("html");e.innerHTML=t,e.querySelectorAll("a").forEach(i=>i.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(e.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(t){t.keyCode===27&&this.hide()}};var I=(s=>(s.GET="get",s.POST="post",s.PUT="put",s.PATCH="patch",s.DELETE="delete",s))(I||{});var ie=C(require("deepmerge"),1),O=C(require("qs"),1);function f(t){return new URL(t.toString(),window.location.toString())}function k(t,e,r,i="brackets"){let n=/^https?:\/\//.test(e.toString()),s=n||e.toString().startsWith("/"),u=!s&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),v=e.toString().includes("?")||t==="get"&&Object.keys(r).length,E=e.toString().includes("#"),l=new URL(e.toString(),"http://localhost");return t==="get"&&Object.keys(r).length&&(l.search=O.stringify((0,ie.default)(O.parse(l.search,{ignoreQueryPrefix:!0}),r),{encodeValuesOnly:!0,arrayFormat:i}),r={}),[[n?`${l.protocol}//${l.host}`:"",s?l.pathname:"",u?l.pathname.substring(1):"",v?l.search:"",E?l.hash:""].join(""),r]}function b(t){return t=new URL(t.href),t.hash="",t}var oe=typeof window>"u",A=class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:r,swapComponent:i}){this.page=e,this.resolveComponent=r,this.swapComponent=i,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){this.navigationType==="reload"&&window.history.state?.rememberedState&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(()=>w(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",T(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>document.getElementById(window.location.hash.slice(1))?.scrollIntoView())}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((e,r)=>{let i=this.page.scrollRegions[r];if(i)typeof e.scrollTo=="function"?e.scrollTo(i.left,i.top):(e.scrollTop=i.top,e.scrollLeft=i.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),w(e)})}locationVisit(e,r){try{let i={preserveScroll:r};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(i)),window.location.href=e.href,b(window.location).href===b(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(e){let r=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=window.history.state?.rememberedState??{},e.scrollRegions=window.history.state?.scrollRegions??[],this.setPage(e,{preserveScroll:r.preserveScroll,preserveState:!0}).then(()=>{r.preserveScroll&&this.restoreScrollPositions(),w(e)})}isLocationVisitResponse(e){return!!(e&&e.status===409&&e.headers["x-inertia-location"])}isInertiaResponse(e){return!!e?.headers["x-inertia"]}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:r=!1,interrupted:i=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=r,e.interrupted=i,D(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,D(e),e.onFinish(e))}resolvePreserveOption(e,r){return typeof e=="function"?e(r):e==="errors"?Object.keys(r.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(e,{method:r="get",data:i={},replace:n=!1,preserveScroll:s=!1,preserveState:u=!1,only:v=[],headers:E={},errorBag:l="",forceFormData:c=!1,onCancelToken:g=()=>{},onBefore:R=()=>{},onStart:d=()=>{},onProgress:p=()=>{},onFinish:V=()=>{},onCancel:y=()=>{},onSuccess:$=()=>{},onError:W=()=>{},queryStringArrayFormat:F="brackets"}={}){let P=typeof e=="string"?f(e):e;if((N(i)||c)&&!(i instanceof FormData)&&(i=U(i)),!(i instanceof FormData)){let[o,a]=k(r,P,i,F);P=f(o),i=a}let S={url:P,method:r,data:i,replace:n,preserveScroll:s,preserveState:u,only:v,headers:E,errorBag:l,forceFormData:c,queryStringArrayFormat:F,cancelled:!1,completed:!1,interrupted:!1};if(R(S)===!1||!X(S))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let B=this.createVisitId();this.activeVisit={...S,onCancelToken:g,onBefore:R,onStart:d,onProgress:p,onFinish:V,onCancel:y,onSuccess:$,onError:W,queryStringArrayFormat:F,cancelToken:new AbortController},g({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),Y(S),d(S),(0,M.default)({method:r,url:b(P).href,data:r==="get"?{}:i,params:r==="get"?i:{},signal:this.activeVisit.cancelToken.signal,headers:{...E,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...v.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":v.join(",")}:{},...l&&l.length?{"X-Inertia-Error-Bag":l}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:o=>{i instanceof FormData&&(o.percentage=o.progress?Math.round(o.progress*100):0,Q(o),p(o))}}).then(o=>{if(!this.isInertiaResponse(o))return Promise.reject({response:o});let a=o.data;v.length&&a.component===this.page.component&&(a.props={...this.page.props,...a.props}),s=this.resolvePreserveOption(s,a),u=this.resolvePreserveOption(u,a),u&&window.history.state?.rememberedState&&a.component===this.page.component&&(a.rememberedState=window.history.state.rememberedState);let x=P,G=f(a.url);return x.hash&&!G.hash&&b(x).href===G.href&&(G.hash=x.hash,a.url=G.href),this.setPage(a,{visitId:B,replace:n,preserveScroll:s,preserveState:u})}).then(()=>{let o=this.page.props.errors||{};if(Object.keys(o).length>0){let a=l?o[l]?o[l]:{}:o;return J(a),W(a)}return Z(this.page),$(this.page)}).catch(o=>{if(this.isInertiaResponse(o.response))return this.setPage(o.response.data,{visitId:B});if(this.isLocationVisitResponse(o.response)){let a=f(o.response.headers["x-inertia-location"]),x=P;x.hash&&!a.hash&&b(x).href===a.href&&(a.hash=x.hash),this.locationVisit(a,s===!0)}else if(o.response)_(o.response)&&re.show(o.response.data);else return Promise.reject(o)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(o=>{if(!M.default.isCancel(o)){let a=z(o);if(this.activeVisit&&this.finishVisit(this.activeVisit),a)return Promise.reject(o)}})}setPage(e,{visitId:r=this.createVisitId(),replace:i=!1,preserveScroll:n=!1,preserveState:s=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(u=>{r===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},i=i||f(e.url).href===window.location.href,i?this.replaceState(e):this.pushState(e),this.swapComponent({component:u,page:e,preserveState:s}).then(()=>{n||this.resetScrollPositions(),i||w(e)}))})}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(e.state!==null){let r=e.state,i=this.createVisitId();Promise.resolve(this.resolveComponent(r.component)).then(n=>{i===this.visitId&&(this.page=r,this.swapComponent({component:n,page:r,preserveState:!1}).then(()=>{this.restoreScrollPositions(),w(r)}))})}else{let r=f(this.page.url);r.hash=window.location.hash,this.replaceState({...this.page,url:r.href}),this.resetScrollPositions()}}get(e,r={},i={}){return this.visit(e,{...i,method:"get",data:r})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,r={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${r.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...r,replace:!0})}post(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"post",data:r})}put(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"put",data:r})}patch(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"patch",data:r})}delete(e,r={}){return this.visit(e,{preserveState:!0,...r,method:"delete"})}remember(e,r="default"){oe||this.replaceState({...this.page,rememberedState:{...this.page?.rememberedState,[r]:e}})}restore(e="default"){if(!oe)return window.history.state?.rememberedState?.[e]}on(e,r){let i=n=>{let s=r(n);n.cancelable&&!n.defaultPrevented&&s===!1&&n.preventDefault()};return document.addEventListener(`inertia:${e}`,i),()=>document.removeEventListener(`inertia:${e}`,i)}};var he={buildDOMElement(t){let e=document.createElement("template");e.innerHTML=t;let r=e.content.firstChild;if(!t.startsWith("<script "))return r;let i=document.createElement("script");return i.innerHTML=r.innerHTML,r.getAttributeNames().forEach(n=>{i.setAttribute(n,r.getAttribute(n)||"")}),i},isInertiaManagedElement(t){return t.nodeType===Node.ELEMENT_NODE&&t.getAttribute("inertia")!==null},findMatchingElementIndex(t,e){let r=t.getAttribute("inertia");return r!==null?e.findIndex(i=>i.getAttribute("inertia")===r):-1},update:T(function(t){let e=t.map(i=>this.buildDOMElement(i));Array.from(document.head.childNodes).filter(i=>this.isInertiaManagedElement(i)).forEach(i=>{let n=this.findMatchingElementIndex(i,e);if(n===-1){i?.parentNode?.removeChild(i);return}let s=e.splice(n,1)[0];s&&!i.isEqualNode(s)&&i?.parentNode?.replaceChild(s,i)}),e.forEach(i=>document.head.appendChild(i))},1)};function H(t,e,r){let i={},n=0;function s(){let c=n+=1;return i[c]=[],c.toString()}function u(c){c===null||Object.keys(i).indexOf(c)===-1||(delete i[c],l())}function v(c,g=[]){c!==null&&Object.keys(i).indexOf(c)>-1&&(i[c]=g),l()}function E(){let c=e(""),g={...c?{title:`<title inertia="">${c}</title>`}:{}},R=Object.values(i).reduce((d,p)=>d.concat(p),[]).reduce((d,p)=>{if(p.indexOf("<")===-1)return d;if(p.indexOf("<title ")===0){let y=p.match(/(<title [^>]+>)(.*?)(<\/title>)/);return d.title=y?`${y[1]}${e(y[2])}${y[3]}`:p,d}let V=p.match(/ inertia="[^"]+"/);return V?d[V[0]]=p:d[Object.keys(d).length]=p,d},g);return Object.values(R)}function l(){t?r(E()):he.update(E())}return l(),{forceUpdate:l,createProvider:function(){let c=s();return{update:g=>v(c,g),disconnect:()=>u(c)}}}}var h=C(require("nprogress"),1),ne=null;function me(t){document.addEventListener("inertia:start",fe.bind(null,t)),document.addEventListener("inertia:progress",ve),document.addEventListener("inertia:finish",ge)}function fe(t){ne=setTimeout(()=>h.default.start(),t)}function ve(t){h.default.isStarted()&&t.detail.progress?.percentage&&h.default.set(Math.max(h.default.status,t.detail.progress.percentage/100*.9))}function ge(t){if(clearTimeout(ne),h.default.isStarted())t.detail.visit.completed?h.default.done():t.detail.visit.interrupted?h.default.set(0):t.detail.visit.cancelled&&(h.default.done(),h.default.remove());else return}function be(t){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${t};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${t}, 0 0 5px ${t};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${t};
      border-left-color: ${t};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function j({delay:t=250,color:e="#29d",includeCSS:r=!0,showSpinner:i=!1}={}){me(t),h.default.configure({showSpinner:i}),r&&be(e)}function q(t){let e=t.currentTarget.tagName.toLowerCase()==="a";return!(t.target&&(t?.target).isContentEditable||t.defaultPrevented||e&&t.which>1||e&&t.altKey||e&&t.ctrlKey||e&&t.metaKey||e&&t.shiftKey)}var Ee=new A;
//# sourceMappingURL=index.js.map
